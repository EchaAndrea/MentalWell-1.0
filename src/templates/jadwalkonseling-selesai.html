<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pembayaran - MentalWell</title>
  <link rel="stylesheet" href="/src/styles/style.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <navbar-masuk id="masuk"></navbar-masuk>

  <div class="container">
      <div class="flow d-flex justify-content-center my-5">
      <div class="isi-data text-center">
          <svg width="100" height="100">
          <circle cx="50" cy="50" r="40" stroke="#044B77" stroke-width="4" fill="#044B77" />
          <text x="40" y="60" fill="#fff" font-size="2em">1</text>
          Sorry, your browser does not support inline SVG.
          </svg>
          <br />
          Isi Data
      </div>
      <div class="permasalahan text-center">
          <svg width="100" height="100">
          <circle cx="50" cy="50" r="40" stroke="#044B77" stroke-width="4" fill="#044B77" />
          <text x="40" y="60" fill="#fff" font-size="2em">2</text>
          Sorry, your browser does not support inline SVG.
          </svg>
          <br />
          Permasalahan
      </div>
      <div class="pembayaran text-center">
          <svg width="100" height="100">
          <circle cx="50" cy="50" r="40" stroke="#044B77" stroke-width="4" fill="#044B77" />
          <text x="40" y="60" fill="#fff" font-size="2em">3</text>
          Sorry, your browser does not support inline SVG.
          </svg>
          <br />
          Pembayaran
      </div>
      <div class="selesai text-center">
          <svg width="100" height="100">
          <circle cx="50" cy="50" r="40" stroke="#044B77" stroke-width="4" fill="#044B77" />
          <text x="40" y="60" fill="#fff" font-size="2em">4</text>
          Sorry, your browser does not support inline SVG.
          </svg>
          <br />
          Selesai
      </div>
      </div>
      
      <div class="jadwal card shadow">
        <h3 class="text-center my-4">Jadwal Terkonfirmasi</h3>
        <div class="data d-flex column justify-content-around">
          <div class="key text-start">
            <p>Nama Lengkap</p>
            <p>Nama Panggilan</p>
            <p>No Handphone</p>
            <p>Tanggal Konseling</p>
            <p>Waktu Konseling</p>
          </div>
          <div class="value text-start">
            <p></p>
            <p></p>
            <p></p>
            <p></p>
            <p></p>
          </div>
        </div>
        <span class="text-center mb-4 fs-6">
          <strong><i>*Psikolog akan menghubungi anda. Pastikan untuk
              menghadiri sesi konseling tepat waktu, ya!
            </i></strong>
        </span>
      </div>
      <button class="rounded py-2 px-5 my-4 mb-4 d-flex mx-auto" onclick="redirectToIndex()">Kembali ke Beranda</button>

      <!-- Button Mulai Chat, hanya tampil jika mode=chat -->
      <button id="btnMulaiChat" class="rounded py-2 px-5 my-4 mb-4 d-flex mx-auto" style="display:none;" onclick="openChatPopup()">Mulai Chat</button>

      <!-- Popup Chat (hidden by default) -->
      <div id="chatPopupContainer" style="display:none; position:fixed; z-index:9999; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.3);">
        <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);">
          <!-- Include popupchat.html content here, atau gunakan iframe jika ingin reuse -->
          <div id="chatPopup"></div>
        </div>
      </div>

      <script>
        // Tampilkan button Mulai Chat jika mode=chat
        document.addEventListener("DOMContentLoaded", function () {
          const params = new URLSearchParams(window.location.search);
          if (params.get("mode") === "chat") {
            document.getElementById("btnMulaiChat").style.display = "block";
          }
        });

        function openChatPopup() {
          document.getElementById("chatPopupContainer").style.display = "block";
          // Load popupchat.html ke dalam #chatPopup jika belum ada
          if (!document.getElementById("chatPopup").innerHTML.trim()) {
            fetch('/src/templates/popupchat.html')
              .then(res => res.text())
              .then(html => {
                document.getElementById("chatPopup").innerHTML = html;
              });
          }
        }
      </script>
    </div>
  </main>
  <footer>
    <span> &copy; 2025 MentalWell, Hak Cipta Dilindungi. </span>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
</body>

</html>
<script src="/src/scripts/views/pages/jadwalkonselingselesai.js"></script>